summary: C++ Phone Number library by Google
git-url: https://github.com/google/libphonenumber
src-url: https://github.com/google/libphonenumber/archive/v8.12.54.tar.gz
src-sha: cf3d531a6b097cad508c475888bcf042ff15fabc6be05e3f817224ae8512ce63
dep-pkg: boost icu4c protobuf googletest abseil
license: Apache-2.0
bsystem: cmake-gmake
bscript: cpp

prepare: |
    sed_in_place '/absl::/i find_package(absl REQUIRED)'          CMakeLists.txt
    sed_in_place 's|CMAKE_CXX_STANDARD 11|CMAKE_CXX_STANDARD 17|' CMakeLists.txt

install: |
    cmakew \
        -DBUILD_GEOCODER=OFF \
        -DBUILD_STATIC_LIB=ON \
        -DUSE_POSIX_THREAD=ON \
        -DUSE_ICU_REGEXP=ON \
        -DUSE_BOOST=ON \
        -DUSE_RE2=OFF
