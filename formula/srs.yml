summary: Simple Realtime Server
web-url: https://ossrs.net
git-url: https://github.com/ossrs/srs.git
src-url: https://github.com/ossrs/srs/archive/v4.0-r1.tar.gz
src-sha: 185069639b835646370102c23c884aac624771b59276e0dffa91e68008cfed4f
version: 4.0.1
license: MIT
dep-pkg: perl
bsystem: gmake
bscript: trunk
binbstd: yes
install: |
    export SRS_EXTRA_FLAGS="$CFLAGS $CPPFLAGS"
    
    if [ "$NATIVE_OS_KIND" = darwin ] ; then
        CONFIGURE_EXTRA_ARGS=--osx
    else
        CONFIGURE_EXTRA_ARGS=
    fi

    run ./configure \
        --prefix=$PACKAGE_INSTALL_DIR \
        --static \
        --cc=$CC \
        --cxx=$CXX \
        --ar=$AR \
        --ld=$LD \
        --randlib=$RANLIB $CONFIGURE_EXTRA_ARGS &&
    gmakew clean &&
    gmakew &&
    gmakew install
