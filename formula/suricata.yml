summary: Network IDS, IPS, and security monitoring engine
web-url: https://suricata-ids.org
git-url: https://github.com/OISF/suricata
src-url: https://www.openinfosecfoundation.org/download/suricata-7.0.0.tar.gz
src-sha: 7bcd1313118366451465dc3f8385a3f6aadd084ffe44dd257dda8105863bb769
license: GPL-2.0-or-later
dep-pkg: jansson file libnet libpcap libyaml lz4 libpcre2 libiconv
bsystem: configure cargo
dopatch: |
    LIBPCAP_LIBS="$(pkg-config --libs-only-l libpcap)"
    sed_in_place "s|-lpcap|$LIBPCAP_LIBS|" configure
install: |
    export CARGO_BUILD_TARGET="$RUST_TARGET"
    export RUST_TARGET="--target $RUST_TARGET"

    if [ "$TARGET_PLATFORM_NAME" = macos ] ; then
        export LIBS=-liconv
    fi

    configure --enable-pie
